import static app.cash.redwood.buildsupport.TargetGroup.ToolkitAllWithoutAndroid

redwoodBuild {
  targets(ToolkitAllWithoutAndroid)
  publishing()
}

apply plugin: 'org.jetbrains.kotlinx.atomicfu'
apply plugin: 'dev.drewhamilton.poko'

kotlin {
  sourceSets {
    commonTest {
      dependencies {
        implementation libs.kotlin.test
      }
    }
  }
}

spotless {
  kotlin {
    // Internal MIT-licensed files from Meta.
    targetExclude("src/**/kotlin/app/cash/redwood/yoga/internal/**")
  }
}

tasks.named("dokkaHtmlPartial") {
  // Don't document this module as it's entirely implementation detail.
  enabled = false
}
